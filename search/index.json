[{"content":" Hugo + github 搭建个人静态博客\n前言: 此个人静态博客使用的域名为Github自行分配的域名，不需要建立服务器或者购买域名，建立过程借助了诸多大神的经验，仅发布此文章帮助自己记忆搭建过程，防止遗忘便于日后对网站进行进一步的更新和完善。 环境准备\n2.1 Hugo下载：\nHugo是一个静态网页搭建工具，并且在Windows下有单文件的版本，只要把文件下载下来并添加到环境变量就可以使用，相较于Hexo等要方便不少。当然还有一点很重要，Hugo有非常好看主题可以直接使用。 HUGO下载链接 或者github-Hugo下载链接 具体操作可参考Hugo下载指南\n2.2 Git下载：\nGit帮助我们在使用Hugo搭建好静态网站后将其推送到github上面进行免费的托管 在Git下载链接点击Download for windows 即可\n2.3 Hugo-stack主题环境配置：\n直接下载的github上大佬魔改后的版本Hugo-stack-theme主题魔改版bymantyke， 这即是一个完整的静态网页，省去许多自己搭建的步骤，后续可根据自己的需要再进行更改和完善。（原stack主题设计指南）（原版stack下载地址）可以将其保存在与Hugo文件同一个文件夹下，建立一个Sites/blog.\nGithub部署 参考博主letere的博客撰写，附上原博客链接可以直接查看，博主写的非常详细。 3.1常规部署 （1）如果没有个人的github账号，先前往【Github官网】注册一个github账号 （2）前往【Github官网】，创建仓库 ，点击下图绿色案件New,并且将此仓库名命名为：{github用户名}.github.io，仓库选择为公开public模式。如果这是你搭建的第一个博客，这一步最好在前面直接用自己注册的Github用户名，这会避免很多Bug。 （3）前往Setting -\u0026gt; Pages -\u0026gt; Branch选择main分支，然后保存，会自动开启 https://{github用户名}.github.io 的地址，这地址也是以后访问博客的地址，即Github托管并为你分配的地址域名。 （4）回到hugo文件sites/blog中，按住cirl+鼠标右键，选择在Git bash下执行命令hugo -D，会生成 public 静态资源文件夹。 （5）在 public 执行以下命令上传到github仓库上，第一次上传可能需要输入账号密码，逐行输入下列命令，如需输入账号密码会自动跳出网页，正确输入即可. 1 2 3 4 5 6 git init git add . git commit -m \u0026#34;first commit\u0026#34; git branch -M main git remote add origin {你的github仓库地址} git push -u origin main （6）上传成功后访问 https://{github用户名}.github.io，发现成功搭建属于自己的Hugo博客\n3.2 Github Action自动部署\n自动部署的目的：帮助我们上传新的博客到Github\n（1）Github再创建一个新的仓库，用于存放Hugo的主文件（刚才创建的仓库实际上存放的是生成的public静态文件）此仓库可以选择为私密（private）\n（2）前往Setttings -\u0026gt; Developer Settings -\u0026gt; Personal access tokens，创建一个token(classic)\n（3）token选择永不过期，并勾选 repo 和 workflow 选项 （4）为保证安全，将生成的token，保存的仓库的变量中，前往Settings -\u0026gt; Secrets and variables -\u0026gt; Actions中设置 （5）在hugo主文件自己创建一个.github/workflows/xxxx.yaml文件，将以下内容复制进去，想具体了解更多，可查看【Github Action文档】 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 name: deploy # 代码提交到main分支时触发github action on: push: branches: - main jobs: deploy: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v4 with: fetch-depth: 0 - name: Setup Hugo uses: peaceiris/actions-hugo@v3 with: hugo-version: \u0026#34;latest\u0026#34; extended: true - name: Build Web run: hugo -D - name: Deploy Web uses: peaceiris/actions-gh-pages@v4 with: PERSONAL_TOKEN: ${{ secrets.你的token变量名 }} EXTERNAL_REPOSITORY: 你的github名/你的仓库名 PUBLISH_BRANCH: main PUBLISH_DIR: ./public commit_message: auto deploy 注意EXTERNAL_REPOSITORY填写的是常规部署时建立的那个仓库地址\n（6）在hugo主文件即在sites/blog地址下用记事本创建txt.gitignore文件，来避免提交不必要的文件，如果有其它不上传到仓库的文件可将其文件名编辑到此。 1 2 3 4 5 # 自动生成的文件 public resources .hugo_build.lock assets/jsconfig.json （7）将hugo的主文件上传到仓库，上传成功后会触发Github Action，来自动部署你的静态页面 1 2 3 4 5 6 git init git add . git commit -m \u0026#34;first commit\u0026#34; git branch -M main git remote add origin {你的github仓库地址} git push -u origin main 注意：此处仓库地址为自动部署时建立的第二个仓库\n","date":"2025-03-24T16:26:29+08:00","permalink":"https://2024231087.github.io/2025/stack-theme-mod/","title":"Hugo + github 搭建个人静态博客 "},{"content":"Codeberg 仓库地址：Ice Year/hugo-theme-stack-mod\n本主题由 CaiJimmy 制作并发布，这个仓库是由 Ice Year 基于 Mantyke 的魔改版本进行二次修改，结合了其他的一些参考资料并跟进官方 commits ，添加了一些特性，以及修复了一些 bug.\n使用方式 从零建立博客：Fork仓库到自己账号下，用Github 注册 Vercel，依次点击Overview → New Project → import刚刚Fork的仓库，设置FRAMEWORK PRESET为Hugo → 点击Environment Variables，设置NAME为HUGO_VERSION，Value为Hugo版本号（如0.89.0） → 点击Add → 点击Deploy，稍等十来秒即可部署完成。下载仓库到本地后使用Github Desktop更新文章。（注，本地预览需安装Hugo，具体请参照Hugo | 一起动手搭建个人博客吧相关内容）\n旧博客更换主题：不同主题方式不同，推荐只保留原博客的content文件夹，迁移到本仓库content文件夹后再按情况调整。\n魔改内容 调整文章页面为三栏显示（代码来自ShadowySpirits） 文章按年份分类 增加文章字数统计与站点总字数、总篇数显示 修改全站字体为思源宋体 增加一个引用短代码（短代码来自荷戟独彷徨） 添加一个友情链接页面并设置为双栏（友情链接代码来自Bore，双栏代码来自BB_Roin） 一系列基于个人美观喜好的CSS修改 右侧栏增加Categories小部件 部分使用说明 引用样式短代码 （注：实际使用请补全花括号\n1 2 3 {\u0026lt; quote \u0026gt;}}} 三月，因久旱不雨，苏轼赴郿，祈雨于太白山之上清宫。数日后，虽有微雨，父老以为不足，于是，再陪宋太守亲往祭祷，回程路上，便见道中有云气自山中来，如群马奔突而至车座左右，苏轼一时好奇心起，开笼收云归家，作《攓云篇》。 {\u0026lt; /quote \u0026gt;}} 三月，因久旱不雨，苏轼赴郿，祈雨于太白山之上清宫。数日后，虽有微雨，父老以为不足，于是，再陪宋太守亲往祭祷，回程路上，便见道中有云气自山中来，如群马奔突而至车座左右，苏轼一时好奇心起，开笼收云归家，作《攓云篇》。\n友情链接使用方式 友链头像放在/assets/link-img，友链数据放在/data/links.json\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 [ { \u0026#34;title\u0026#34;: \u0026#34;Ice Year の位面\u0026#34;, \u0026#34;website\u0026#34;: \u0026#34;https://blog.iceyear.eu.org/\u0026#34;, \u0026#34;image\u0026#34;: \u0026#34;iceyear.webp\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;Il n\u0026#39;y a pas de hasard, il n\u0026#39;y a que des rendez-vous.\u0026#34; }, { \u0026#34;title\u0026#34;: \u0026#34;友情链接2\u0026#34;, \u0026#34;website\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;image\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;\u0026#34; } ] 修改页尾信息 站点名称及建站时间请修改以下代码\n站点名称及链接：\n1 2 3 4 5 6 7 8 9 10 #位置：layout/partials/footer/footer.html \u0026lt;section class=\u0026#34;copyleft\u0026#34;\u0026gt; \u0026amp;copy; {{ if and (.Site.Params.footer.since) (ne .Site.Params.footer.since (int (now.Format \u0026#34;2006\u0026#34;))) }} {{ .Site.Params.footer.since }} - {{ end }} {{ now.Format \u0026#34;2006\u0026#34; }} \u0026lt;a href=\u0026#34;https://stack-theme-mod.vercel.app/\u0026#34;\u0026gt;Example Site\u0026lt;/a\u0026gt;·\u0026lt;i class=\u0026#34;fas fa-bell\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;a id=\u0026#34;days\u0026#34;\u0026gt;0\u0026lt;/a\u0026gt;Days\u0026lt;br\u0026gt; {{$var := $scratch.Get \u0026#34;total\u0026#34;}}{{$var = div $var 100.0}}{{$var = math.Ceil $var}}{{$var = div $var 10.0}}共书写了{{$var}}k字·共 {{ len (where .Site.RegularPages \u0026#34;Section\u0026#34; \u0026#34;post\u0026#34;) }}篇文章\u0026lt;/br\u0026gt;\u0026lt;span\u0026gt;\u0026lt;p\u0026gt; \u0026lt;/section\u0026gt; 1 2 3 4 5 6 7 8 #位置：layout/partials/footer/footer.html var s1 = \u0026#39;2022-02-13\u0026#39;;//设置为建站时间 s1 = new Date(s1.replace(/-/g, \u0026#34;/\u0026#34;)); s2 = new Date(); var days = s2.getTime() - s1.getTime(); var number_of_days = parseInt(days / (1000 * 60 * 60 * 24)); document.getElementById(\u0026#39;days\u0026#39;).innerHTML = number_of_days; 其他常见修改 设置博客头像 位置：/assets/img，请将头像命名为avatar.png，替换原头像文件\n删除博客头像 位置：/layouts/partials/sidebar/left.html，注释或删去以下部分：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 {{ with .Site.Params.sidebar.avatar }} {{ if (default true .enabled) }} \u0026lt;figure class=\u0026#34;site-avatar\u0026#34;\u0026gt; \u0026lt;a href=\u0026#34;{{ .Site.BaseURL | relLangURL }}\u0026#34;\u0026gt; {{ if not .local }} \u0026lt;img src=\u0026#34;{{ .src }}\u0026#34; width=\u0026#34;300\u0026#34; height=\u0026#34;300\u0026#34; class=\u0026#34;site-logo\u0026#34; loading=\u0026#34;lazy\u0026#34; alt=\u0026#34;Avatar\u0026#34;\u0026gt; {{ else }} {{ $avatar := resources.Get (.src) }} {{ if $avatar }} {{ $avatarResized := $avatar.Resize \u0026#34;300x\u0026#34; }} \u0026lt;img src=\u0026#34;{{ $avatarResized.RelPermalink }}\u0026#34; width=\u0026#34;{{ $avatarResized.Width }}\u0026#34; height=\u0026#34;{{ $avatarResized.Height }}\u0026#34; class=\u0026#34;site-logo\u0026#34; loading=\u0026#34;lazy\u0026#34; alt=\u0026#34;Avatar\u0026#34;\u0026gt; {{ else }} {{ errorf \u0026#34;Failed loading avatar from %q\u0026#34; . }} {{ end }} {{ end }} \u0026lt;/a\u0026gt; {{ with $.Site.Params.sidebar.emoji }} \u0026lt;span class=\u0026#34;emoji\u0026#34;\u0026gt;{{ . }}\u0026lt;/span\u0026gt; {{ end }} \u0026lt;/figure\u0026gt; {{ end }} {{ end }} 修改博客背景颜色 位置：assets\\scss\\variables.scss\n1 --body-background: #f6f6f6; 指定首页分类标签颜色 位置：content\\categories，创建分类同名文件夹后，在文件夹内创建_index.md文件，写入frontmatter\n1 2 3 4 5 6 7 title: \u0026#34;做猫贵在折腾\u0026#34; //分类名称 description: \u0026#34;简介 Blablabla\u0026#34; //不需要可以删了 image: \u0026#34;ffxiv_20210830_230509_817.png\u0026#34; //分类题图，不需要也可以删了 style: background: \u0026#34;#80aba9\u0026#34; //分类标签底色 color: \u0026#34;#fff\u0026#34; --- 配置各类图标 图标放在：/assets/icons，svg格式，配置方式参考文档\n其他参考 其他我站修改及Hugo博客搭建教程可参见以下文章，作者代码水平为0，写作时间跨度较大，参考时务必注意：\nHugo | 一起动手搭建个人博客吧\nHugo | 看中 Stack 主题的归档功能，搬家并做修改\nHugo | 另一篇 Stack 主题装修记录\nHugo | 为 Blog 增加评论区\nHugo | 以正确姿势自动添加文章最后更新时间\nHugo | 在文章中插入轮播图片\nHugo | 第三篇 Stack 主题装修记录，堂堂再临！\n如果您喜欢或使用这个魔改版主题成功搭建了自己的个人博客，欢迎到我的个人博客中留言告诉我，我会很开心的！\n","date":"2022-02-13T03:02:52+08:00","permalink":"https://2024231087.github.io/2022/stack-theme-mod/","title":"Hugo | Hugo-stack-theme主题魔改版"}]